diff --git a/dist/index.mjs b/dist/index.mjs
index 62bf9a976fa92b3342ffee83491f717724a6ce92..88f0ef1b33f9262a6a0270873ef8f6d17a17f452 100644
--- a/dist/index.mjs
+++ b/dist/index.mjs
@@ -94,19 +94,22 @@ ${diff.map((entry) => `  ${entry.toString()}`).join("\n")}`);
         config.build.outDir ??= whenever(options.clientDist, path.resolve) || `${process.cwd()}/dist`;
       },
       async configResolved(config) {
-        nitro = process.env.NODE_ENV === "production" ? await createNitro$1(path.resolve(config.build.outDir)) : await reloadNitro();
+        if (process.env.NODE_ENV === 'devlopment')
+          reloadNitro()
       },
       async configureServer(server2) {
         server2.middlewares.use(async (req, res, next) => filter(req.originalUrl || req.url || "") ? listener?.(req, res) : next());
       },
       async buildEnd() {
+        nitro = await createNitro$1(path.resolve(config.build.outDir))
         await prepare(nitro);
         await copyPublicAssets(nitro);
         await prerender(nitro);
         await build(nitro);
         await nitro.close();
-        await fs.mkdir(".output/server/node_modules/vite/misc", { recursive: true });
-        await fs.writeFile(".output/server/node_modules/vite/misc/true.js", "export default true");
+
+        consola.log(path.relative(srcDir, dist))
+        consola.log(await Array.fromAsync(fs.glob('.vercel/**')))
       },
       resolveId(source) {
         if (source === "virtual:$fetch")
